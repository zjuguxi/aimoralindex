{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navbar from'./Navbar';import Footer from'./Footer';import AIScoreCard from'./AIScoreCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[activeSection,setActiveSection]=useState('home');const[aiData,setAiData]=useState([]);const fetchScores=async()=>{try{const response=await fetch('https://aimoralindex.netlify.app/api/scores');if(!response.ok){throw new Error('网络响应不是 OK');}const data=await response.json();setAiData(data);// 更新缓存\nlocalStorage.setItem('aiScores',JSON.stringify(data));localStorage.setItem('cacheTime',new Date().getTime());}catch(error){console.error('获取数据时出错:',error);// 返回默认分数\nreturn[0,0,0];}};useEffect(()=>{fetchScores();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen text-gray-900 flex flex-col\",children:[/*#__PURE__*/_jsx(Navbar,{setActiveSection:setActiveSection}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow\",children:activeSection==='home'&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center text-gray-800\",children:\"Generative AI Morality Index\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:[aiData.map(entry=>/*#__PURE__*/_jsx(AIScoreCard,{name:\"chatgpt\",score:entry.chatgpt,history:aiData.map(data=>({date:data.date,score:data.chatgpt}))},entry.date)),aiData.map(entry=>/*#__PURE__*/_jsx(AIScoreCard,{name:\"claude\",score:entry.claude,history:aiData.map(data=>({date:data.date,score:data.claude}))},entry.date)),aiData.map(entry=>/*#__PURE__*/_jsx(AIScoreCard,{name:\"gemini\",score:entry.gemini,history:aiData.map(data=>({date:data.date,score:data.gemini}))},entry.date))]})]})}),/*#__PURE__*/_jsx(Footer,{setActiveSection:setActiveSection})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Footer","AIScoreCard","jsx","_jsx","jsxs","_jsxs","App","activeSection","setActiveSection","aiData","setAiData","fetchScores","response","fetch","ok","Error","data","json","localStorage","setItem","JSON","stringify","Date","getTime","error","console","className","children","map","entry","name","score","chatgpt","history","date","claude","gemini"],"sources":["/Users/guxi/Study/870/Automation/aimoralindex/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport AIScoreCard from './AIScoreCard';\n\nconst App = () => {\n  const [activeSection, setActiveSection] = useState('home');\n  const [aiData, setAiData] = useState([]);\n\n  const fetchScores = async () => {\n    try {\n      const response = await fetch('https://aimoralindex.netlify.app/api/scores');\n      if (!response.ok) {\n        throw new Error('网络响应不是 OK');\n      }\n      const data = await response.json();\n      setAiData(data);\n      \n      // 更新缓存\n      localStorage.setItem('aiScores', JSON.stringify(data));\n      localStorage.setItem('cacheTime', new Date().getTime());\n    } catch (error) {\n      console.error('获取数据时出错:', error);\n      // 返回默认分数\n      return [0, 0, 0];\n    }\n  };\n\n  useEffect(() => {\n    fetchScores();\n  }, []);\n\n  return (\n    <div className=\"bg-gray-100 min-h-screen text-gray-900 flex flex-col\">\n      <Navbar setActiveSection={setActiveSection} />\n      <div className=\"flex-grow\">\n        {activeSection === 'home' && (\n          <div className=\"p-8 max-w-4xl mx-auto\">\n            <h1 className=\"text-3xl font-bold text-center text-gray-800\">Generative AI Morality Index</h1>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n              {aiData.map((entry) => (\n                <AIScoreCard \n                  key={entry.date} \n                  name=\"chatgpt\" \n                  score={entry.chatgpt} \n                  history={aiData.map(data => ({ date: data.date, score: data.chatgpt }))} \n                />\n              ))}\n              {aiData.map((entry) => (\n                <AIScoreCard \n                  key={entry.date} \n                  name=\"claude\" \n                  score={entry.claude} \n                  history={aiData.map(data => ({ date: data.date, score: data.claude }))} \n                />\n              ))}\n              {aiData.map((entry) => (\n                <AIScoreCard \n                  key={entry.date} \n                  name=\"gemini\" \n                  score={entry.gemini} \n                  history={aiData.map(data => ({ date: data.date, score: data.gemini }))} \n                />\n              ))}\n            </div>\n          </div>\n        )}\n        {/* 其他部分 */}\n      </div>\n      <Footer setActiveSection={setActiveSection} />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}